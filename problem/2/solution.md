两条路径产生的奇点数为 $0$ 或 $2$，则两条路径产生的奇点数只能为 $0,\ 2$ 或 $4$。

此外，如果我们能找到一条路径覆盖图中每一条边仅一次，那么只需将这条路径从一个断点处断开即可。

对整个图的连通块数量与奇点数量分类讨论。

- 若整个图连通，

  - 奇点数为 $0$ 或 $2$，则必能找到一条路径覆盖图中每一条边仅一次。此时只需路径长度 $\geq 2$，就可以将其分为两条路径；
  
  - 奇点数为 $4$，此时任取两个没有连边的奇点，将它们连上一条临时边。此时有 $2$ 个奇点，必能找到一条路径覆盖图中每一条边仅一次，由于临时边的端点都变成了偶点，故不可能成为这条路径的第一条边或最后一条边，也就可以从临时边处断开路径，得到答案。
  
- 若整个图分为了两个连通块，只要两个连通块奇点数均为 $0$ 或 $2$，就可以在两个连通块各找到一条路径，即为最终答案。

- 若整个图分为了三个或更多的连通块，显然无解。

由于最后输出的是边的编号，输出时需要对任意相邻两个点找到边的编号。
