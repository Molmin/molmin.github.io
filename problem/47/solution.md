因为 $m=n-1$ 或 $m=n$，所以本题的构成的图为一棵基环树或普通树。

**【定义】** 基环树中，对于环上结点，称相邻的环上的结点为父亲结点，其余向另结点为儿子结点。

考虑动态规划。

记 $\texttt{fa}\,_u$ 表示结点 $u$ 的父亲结点个数，$\texttt{son}\,_u$ 表示结点 $u$ 的儿子结点个数。

### 普通树做法
